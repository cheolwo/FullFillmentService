@*@page "/register"

<MudCard>
    <MudCardContent>
        <h3>Register</h3>

        <MudForm Model="@registerModel" OnValidSubmit="HandleSubmit">
            <MudTextField @bind-Value="@registerModel.Username" Label="Username" />
            <MudTextField @bind-Value="@registerModel.Email" Label="Email" />
            <MudTextField @bind-Value="@registerModel.Password" Label="Password" Type="InputType.Password" />
            <MudTextField @bind-Value="@registerModel.ConfirmPassword" Label="Confirm Password" Type="InputType.Password" />

            <MudButton Variant="Variant.Filled" Color="Color.Primary" Type="ButtonType.Submit">Register</MudButton>
        </MudForm>
    </MudCardContent>
</MudCard>

@code {
    private RegisterModel registerModel = new RegisterModel();

    private async Task HandleSubmit()
    {
        // Perform registration logic here
        // Example: Use ASP.NET Core Identity UserManager to create a new user
        var user = new IdentityUser
            {
                UserName = registerModel.Username,
                Email = registerModel.Email
            };

        var result = await userManager.CreateAsync(user, registerModel.Password);

        if (result.Succeeded)
        {
            // Registration successful, redirect to login page
            navigationManager.NavigateTo("/login");
        }
        else
        {
            // Handle registration errors
            foreach (var error in result.Errors)
            {
                // Display error messages to the user
                // Example: registrationForm.Errors.Add(error.Description);
            }
        }
    }
}
*@